<!-- Floating Chat Widget -->
<div id="chat-widget" class="fixed bottom-6  z-50 flex flex-col">
    <!-- Chat Header -->
    <div class="bg-emerald-700 text-white p-3 rounded-t-lg flex justify-between items-center cursor-move shadow-md" id="chat-header">
        <div class="flex items-center">
            <div class="w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center mr-2 shadow-sm">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />
                </svg>
            </div>
            <span class="font-semibold">Laku Assistant</span>
        </div>
        <div class="flex items-center space-x-2">
            <button id="toggle-chat" class="text-yellow-200 hover:text-white focus:outline-none transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
            </button>
            <button id="minimize-chat" class="text-yellow-200 hover:text-white focus:outline-none transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" clip-rule="evenodd" />
                </svg>
            </button>
        </div>
    </div>
    
    <!-- Chat Body -->
    <div class="bg-white rounded-b-lg shadow-lg flex flex-col overflow-hidden border border-emerald-100" id="chat-body" style="width: 320px; height: 400px;">
        <!-- Messages Container -->
        <div class="flex-1 p-4 overflow-y-auto bg-gradient-to-b from-white to-emerald-50" id="chat-messages">
            <!-- Messages will be inserted here by JavaScript -->
            <div class="text-center text-sm text-emerald-700 mt-4">How can I help you today?</div>
        </div>
        
        <!-- Input Area -->
        <div class="p-3 border-t border-emerald-100 bg-white">
            <div class="flex items-center">
                <input type="text" id="user-input" 
                       class="flex-1 border border-emerald-200 rounded-l-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-emerald-900 placeholder-emerald-400" 
                       placeholder="Type your message..." 
                       autocomplete="off">
                <button id="send-message" 
                        class="bg-emerald-600 text-white px-4 py-2 rounded-r-lg hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 transition-colors duration-200 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    /* Chat Widget Styles */
    #chat-widget {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        border-radius: 0.75rem;
        overflow: hidden;
        transition: all 0.3s ease;
    }
    
    #chat-body {
        min-width: 300px;
        min-height: 400px;
        position: relative;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    #chat-messages {
        scrollbar-width: thin;
        scrollbar-color: #a7f3d0 #ecfdf5;
    }
    
    #chat-messages::-webkit-scrollbar {
        width: 6px;
    }
    
    #chat-messages::-webkit-scrollbar-track {
        background: #ecfdf5;
    }
    
    #chat-messages::-webkit-scrollbar-thumb {
        background-color: #a7f3d0;
        border-radius: 3px;
    }
    
    .message {
        max-width: 80%;
        margin-bottom: 1rem;
        padding: 0.75rem 1rem;
        border-radius: 1rem;
        line-height: 1.5;
        word-wrap: break-word;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        transition: all 0.2s ease;
    }
    
    .user-message {
        margin-left: auto;
        background-color: #e0f2fe;
        color: #075985;
        border-top-right-radius: 0.25rem;
        border-bottom-left-radius: 1rem;
    }
    
    .bot-message {
        margin-right: auto;
        background-color: white;
        border: 1px solid #d1fae5;
        border-top-left-radius: 0.25rem;
        border-bottom-right-radius: 1rem;
        color: #064e3b;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
    }
    
    .typing-indicator {
        display: flex;
        padding: 0.75rem 1rem;
        background-color: white;
        border: 1px solid #d1fae5;
        border-radius: 1rem;
        margin-bottom: 1rem;
        width: fit-content;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }
    
    .typing-dot {
        width: 8px;
        height: 8px;
        background-color: #34d399;
        border-radius: 50%;
        margin: 0 3px;
        animation: typing 1.4s infinite ease-in-out;
    }
    
    .typing-dot:nth-child(1) { animation-delay: 0s; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    
    @keyframes typing {
        0%, 60%, 100% { 
            transform: translateY(0);
            background-color: #a7f3d0;
        }
        30% { 
            transform: translateY(-5px);
            background-color: #34d399;
        }
    }
    
    /* Hover and focus states */
    #user-input:focus {
        border-color: #34d399;
        box-shadow: 0 0 0 3px rgba(52, 211, 153, 0.2);
    }
    
    #send-message:hover {
        background-color: #059669;
    }
    
    #send-message:active {
        transform: translateY(1px);
    }
    
    /* Draggable header */
    .cursor-move {
        cursor: move;
    }
    
    .cursor-se-resize {
        cursor: default;
    }
</style>
